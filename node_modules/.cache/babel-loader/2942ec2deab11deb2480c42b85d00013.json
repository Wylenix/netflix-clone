{"ast":null,"code":"var _jsxFileName = \"/Users/lio/Documents/Programmation/React-MikeC/react-netflix-clone/src/components/NetflixApp.exercise.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { NetflixAppBar } from './NetflixAppBar';\nimport { NetflixRow } from './NetflixRow';\nimport { NetFlixFooter } from './NetFlixFooter';\nimport axios from 'axios';\nimport { useState } from 'react'; // üê∂ importe 'axios'\n\nimport './Netflix.css';\nimport { getRandomIntInclusive } from '../utils/helper';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ngetRandomIntInclusive(0, 4); // nombre aleatoire entre 0 et 4\n// üê∂ passe en prop 'movie' qui contiendra les informations d'un film\n\nconst NetflixHeader = ({\n  movie,\n  type\n}) => {\n  console.log(movie); // üê∂ La classe 'banner' contient une image fixe dans 'NetFlix.css' (background-image: url('../assets/images/banner.jpg'))\n  // Tu vas devoir changer l'image (donc cette propri√©t√© CSS) pour chaque nouveau film.\n  // Pour cela tu vas passer par le prop 'style' de <header> est passer l'objet avec les propi√©t√©s css.\n  // Tu vas donc avoir besoin de 2 choses : 'imageUrl' : l'url de l'image et 'banner' l'objet avec les propri√©t√©s CSS\n\n  const imageUrl = `https://image.tmdb.org/t/p/original${movie === null || movie === void 0 ? void 0 : movie.backdrop_path}`; // üê∂ 1. Cr√©e une constante 'imageUrl' qui contient l'url de l'image\n  //  - l'image est contenu dans 'backdrop_path' de l'objet 'movie'\n  //  - la base de l'url d'image est 'https://image.tmdb.org/t/p/original'\n  //\n  // üê∂ 2. cr√©√© l'objet 'banner' avec les propi√©t√©s suivantes:\n\n  const banner = {\n    backgroundImage: `url('${imageUrl}')`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center',\n    color: 'white',\n    objectFit: 'contain',\n    height: '448px'\n  }; // üê∂ si 'movie' n'est pas d√©fini, retourne un fragment vide ü§ñ <></>\n\n  if (!movie) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  } else {\n    var _movie$title, _movie$name, _movie$overview;\n\n    // üê∂ si 'movie' est d√©fini, retourne le header\n    return (\n      /*#__PURE__*/\n      // ‚õèÔ∏è supprime le prop 'className' et utilise le prop 'style' avec l'objet 'banner'\n      _jsxDEV(\"header\", {\n        style: banner,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"banner__contents\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"banner__title\",\n            children: type === 'movie' ? (_movie$title = movie === null || movie === void 0 ? void 0 : movie.title) !== null && _movie$title !== void 0 ? _movie$title : '...' : (_movie$name = movie === null || movie === void 0 ? void 0 : movie.name) !== null && _movie$name !== void 0 ? _movie$name : '...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"banner__buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"banner__button banner__buttonplay\",\n              children: \"Lecture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"banner__button banner__buttonInfo\",\n              children: \"Ajouter \\xE0 ma liste\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"synopsis\",\n            children: (_movie$overview = movie === null || movie === void 0 ? void 0 : movie.overview) !== null && _movie$overview !== void 0 ? _movie$overview : '...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"banner--fadeBottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this)\n    );\n  }\n}; // üê∂ Tu vas devoir g√©rer le fetch de donn√©es avec axios dans 'NetflixApp'\n\n\n_c = NetflixHeader;\n\nconst NetflixApp = () => {\n  _s();\n\n  // üê∂ Cr√©√© un state 'headerMovie'\n  const randomEl = getRandomIntInclusive(0, 4);\n  const [type, setType] = useState('movie');\n  const [headerMovie, setHeaderMovie] = useState();\n  const tvIds = [71446, 60574, 1399, 66732];\n  const moviesIds = [399566, 602734, 579047, 385128, 615658]; // üê∂ Cr√©√© une constante 'defaultMovieId' avec un id de film par d√©faut (399566 par exemple)\n  // üê∂ utilise ta cley d'api et langue\n\n  const apiKey = '4fc7b001e8a107fe1fddc6b41ed0f4af';\n  const lang = 'fr-fr'; // üê∂ utilise le hook 'useEffect' pour r√©cup√©rer le film sur cette url\n\n  const url = `https://api.themoviedb.org/3/${type}/${type === 'tv' ? tvIds[randomEl] : moviesIds[randomEl]}?api_key=${apiKey}&language=${lang}`; //  avec axios :\n\n  useEffect(() => {\n    axios.get(url).then(response => setHeaderMovie(response)).catch(error => console.error(error));\n  }, [url]); // axios\n  //   .get(url)\n  //   .then(response => console.log(response))\n  //   .catch(error => console.error(error))\n  // üê∂ met √† jour 'headerMovie' sur la reponse d'axios\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NetflixAppBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NetflixHeader, {\n      movie: headerMovie === null || headerMovie === void 0 ? void 0 : headerMovie.data,\n      type: type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NetflixRow, {\n      wideImage: false,\n      title: \"Films Netflix\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NetflixRow, {\n      wideImage: true,\n      title: \"S\\xE9rie Netflix\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NetFlixFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NetflixApp, \"z+wsX+xc8Y+dK23j/iYQA06FgWg=\");\n\n_c2 = NetflixApp;\nexport { NetflixApp };\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NetflixHeader\");\n$RefreshReg$(_c2, \"NetflixApp\");","map":{"version":3,"sources":["/Users/lio/Documents/Programmation/React-MikeC/react-netflix-clone/src/components/NetflixApp.exercise.js"],"names":["React","useEffect","NetflixAppBar","NetflixRow","NetFlixFooter","axios","useState","getRandomIntInclusive","NetflixHeader","movie","type","console","log","imageUrl","backdrop_path","banner","backgroundImage","backgroundSize","backgroundPosition","color","objectFit","height","title","name","overview","NetflixApp","randomEl","setType","headerMovie","setHeaderMovie","tvIds","moviesIds","apiKey","lang","url","get","then","response","catch","error","data"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {NetflixAppBar} from './NetflixAppBar'\nimport {NetflixRow} from './NetflixRow'\nimport {NetFlixFooter} from './NetFlixFooter'\nimport axios from 'axios'\nimport {useState} from 'react'\n// üê∂ importe 'axios'\nimport './Netflix.css'\nimport {getRandomIntInclusive} from '../utils/helper'\ngetRandomIntInclusive(0, 4) // nombre aleatoire entre 0 et 4\n\n// üê∂ passe en prop 'movie' qui contiendra les informations d'un film\nconst NetflixHeader = ({movie, type}) => {\n  console.log(movie)\n  // üê∂ La classe 'banner' contient une image fixe dans 'NetFlix.css' (background-image: url('../assets/images/banner.jpg'))\n  // Tu vas devoir changer l'image (donc cette propri√©t√© CSS) pour chaque nouveau film.\n  // Pour cela tu vas passer par le prop 'style' de <header> est passer l'objet avec les propi√©t√©s css.\n  // Tu vas donc avoir besoin de 2 choses : 'imageUrl' : l'url de l'image et 'banner' l'objet avec les propri√©t√©s CSS\n  const imageUrl = `https://image.tmdb.org/t/p/original${movie?.backdrop_path}`\n  // üê∂ 1. Cr√©e une constante 'imageUrl' qui contient l'url de l'image\n  //  - l'image est contenu dans 'backdrop_path' de l'objet 'movie'\n  //  - la base de l'url d'image est 'https://image.tmdb.org/t/p/original'\n  //\n  // üê∂ 2. cr√©√© l'objet 'banner' avec les propi√©t√©s suivantes:\n  const banner = {\n    backgroundImage: `url('${imageUrl}')`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center',\n    color: 'white',\n    objectFit: 'contain',\n    height: '448px',\n  }\n\n  // üê∂ si 'movie' n'est pas d√©fini, retourne un fragment vide ü§ñ <></>\n  if (!movie) {\n    return <></>\n  } else {\n    // üê∂ si 'movie' est d√©fini, retourne le header\n    return (\n      // ‚õèÔ∏è supprime le prop 'className' et utilise le prop 'style' avec l'objet 'banner'\n      <header style={banner}>\n        <div className=\"banner__contents\">\n          <h1 className=\"banner__title\">\n            {type === 'movie' ? movie?.title ?? '...' : movie?.name ?? '...'}\n          </h1>\n          <div className=\"banner__buttons\">\n            <button className=\"banner__button banner__buttonplay\">\n              Lecture\n            </button>\n            <button className=\"banner__button banner__buttonInfo\">\n              Ajouter √† ma liste\n            </button>\n          </div>\n          <h1 className=\"synopsis\">{movie?.overview ?? '...'}</h1>\n        </div>\n        <div className=\"banner--fadeBottom\"></div>\n      </header>\n    )\n  }\n}\n\n// üê∂ Tu vas devoir g√©rer le fetch de donn√©es avec axios dans 'NetflixApp'\nconst NetflixApp = () => {\n  // üê∂ Cr√©√© un state 'headerMovie'\n  const randomEl = getRandomIntInclusive(0, 4)\n  const [type, setType] = useState('movie')\n  const [headerMovie, setHeaderMovie] = useState()\n\n  const tvIds = [71446, 60574, 1399, 66732]\n  const moviesIds = [399566, 602734, 579047, 385128, 615658]\n  // üê∂ Cr√©√© une constante 'defaultMovieId' avec un id de film par d√©faut (399566 par exemple)\n  // üê∂ utilise ta cley d'api et langue\n  const apiKey = '4fc7b001e8a107fe1fddc6b41ed0f4af'\n  const lang = 'fr-fr'\n\n  // üê∂ utilise le hook 'useEffect' pour r√©cup√©rer le film sur cette url\n  const url = `https://api.themoviedb.org/3/${type}/${\n    type === 'tv' ? tvIds[randomEl] : moviesIds[randomEl]\n  }?api_key=${apiKey}&language=${lang}`\n  //  avec axios :\n  useEffect(() => {\n    axios\n      .get(url)\n      .then(response => setHeaderMovie(response))\n      .catch(error => console.error(error))\n  }, [url])\n  // axios\n  //   .get(url)\n  //   .then(response => console.log(response))\n  //   .catch(error => console.error(error))\n  // üê∂ met √† jour 'headerMovie' sur la reponse d'axios\n\n  return (\n    <div>\n      <NetflixAppBar />\n      {/* üê∂ passe le prop 'movie' avec la propi√©t√© 'data' de 'headerMovie'  */}\n      <NetflixHeader movie={headerMovie?.data} type={type} />\n      <NetflixRow wideImage={false} title=\"Films Netflix\" />\n      <NetflixRow wideImage={true} title=\"S√©rie Netflix\" />\n      <NetFlixFooter />\n    </div>\n  )\n}\nexport {NetflixApp}\n"]},"metadata":{},"sourceType":"module"}