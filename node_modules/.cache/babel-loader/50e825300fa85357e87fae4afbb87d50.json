{"ast":null,"code":"import axios from 'axios';\nimport { apiKey, lang, API_URL } from '../config'; // utilise 'sleep' pour simuler des api longue\n\nconst sleep = t => new Promise(resolve => setTimeout(resolve, t));\n\nconst clientApi = async endpoint => {\n  const page = 1; // uniquement pour tester api long sur certain endpoint\n  // if (endpoint.includes('10759')) {\n  //    await sleep(3000)\n  // }\n\n  await sleep(3000);\n  const startChar = endpoint.includes('?') ? `&` : `?`;\n  const keyLang = `${startChar}api_key=${apiKey}&language=${lang}&page=${page}`;\n  return axios.get(`${API_URL}/${endpoint}${keyLang}`);\n};\n\nexport { clientApi };","map":{"version":3,"sources":["/Users/lio/Documents/Programmation/React-MikeC/react-netflix-clone/src/utils/clientApi.js"],"names":["axios","apiKey","lang","API_URL","sleep","t","Promise","resolve","setTimeout","clientApi","endpoint","page","startChar","includes","keyLang","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,EAAgBC,IAAhB,EAAsBC,OAAtB,QAAoC,WAApC,C,CAEA;;AACA,MAAMC,KAAK,GAAGC,CAAC,IAAI,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,CAAV,CAAjC,CAAnB;;AAEA,MAAMI,SAAS,GAAG,MAAMC,QAAN,IAAkB;AAClC,QAAMC,IAAI,GAAG,CAAb,CADkC,CAElC;AACA;AACA;AACA;;AACA,QAAMP,KAAK,CAAC,IAAD,CAAX;AACA,QAAMQ,SAAS,GAAGF,QAAQ,CAACG,QAAT,CAAkB,GAAlB,IAA0B,GAA1B,GAAgC,GAAlD;AACA,QAAMC,OAAO,GAAI,GAAEF,SAAU,WAAUX,MAAO,aAAYC,IAAK,SAAQS,IAAK,EAA5E;AACA,SAAOX,KAAK,CAACe,GAAN,CAAW,GAAEZ,OAAQ,IAAGO,QAAS,GAAEI,OAAQ,EAA3C,CAAP;AACD,CAVD;;AAYA,SAAQL,SAAR","sourcesContent":["import axios from 'axios'\nimport {apiKey, lang, API_URL} from '../config'\n\n// utilise 'sleep' pour simuler des api longue\nconst sleep = t => new Promise(resolve => setTimeout(resolve, t))\n\nconst clientApi = async endpoint => {\n  const page = 1\n  // uniquement pour tester api long sur certain endpoint\n  // if (endpoint.includes('10759')) {\n  //    await sleep(3000)\n  // }\n  await sleep(3000)\n  const startChar = endpoint.includes('?') ? `&` : `?`\n  const keyLang = `${startChar}api_key=${apiKey}&language=${lang}&page=${page}`\n  return axios.get(`${API_URL}/${endpoint}${keyLang}`)\n}\n\nexport {clientApi}\n"]},"metadata":{},"sourceType":"module"}